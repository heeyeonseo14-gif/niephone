<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>niephone - Home</title>

<style>
  body{
    margin:0;
    background:#000;
    color:#fff;
    font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto;
    overflow:hidden;
  }

  /* 整个手机界面 */
  .phone{
    width:360px;
    max-width:95%;
    height:760px;
    max-height:95vh;
    margin:20px auto;
    border-radius:22px;
    overflow:hidden;
    background:#000;
    position:relative;
  }

  /* 壁纸 */
  .wallpaper{
    position:absolute;
    inset:0;
    background-size:cover;
    background-position:center;
    filter:brightness(0.85);
    z-index:1;
  }

  .overlay{
    position:absolute;
    inset:0;
    background:rgba(0,0,0,0.3);
    z-index:2;
  }

  /* 内容层 */
  .content{
    position:relative;
    z-index:3;
    width:100%;
    height:100%;
    padding:20px;
    box-sizing:border-box;
  }

  /* 顶部大图（长方形） */
  .big-img{
    width:100%;
    height:160px;
    border-radius:18px;
    background:rgba(255,255,255,0.1);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:24px;
    font-weight:600;
    margin-bottom:30px;
    overflow:hidden;
  }
  .big-img img{
    width:100%;
    height:100%;
    object-fit:cover;
  }

  /* 通用图标按钮 */
  .btn{
    width:130px;
    height:90px;
    border-radius:18px;
    background:rgba(255,255,255,0.13);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:22px;
    margin-bottom:20px;
    cursor:pointer;
    backdrop-filter:blur(6px);
  }

  /* 底部菜单 */
  .bottom-row{
    position:absolute;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    width:90%;
    display:flex;
    justify-content:space-between;
  }

  .small-btn{
    width:100px;
    height:80px;
    background:rgba(255,255,255,0.13);
    border-radius:18px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:20px;
    cursor:pointer;
    backdrop-filter:blur(6px);
  }
</style>
</head>

<body>
<div class="phone">

  <div class="wallpaper" id="wall"></div>
  <div class="overlay"></div>

  <div class="content">

    <!-- 顶部大图 -->
    <div class="big-img" id="bigImageBox">
      <span id="bigImageText">自定义图片 *长方形*</span>
    </div>

    <!-- 右侧按钮 -->
    <div style="position:absolute; right:20px; top:210px;">
      <div class="btn" id="chatBtn">聊天</div>
      <div class="btn" id="roleBtn">人设</div>
    </div>

    <!-- 底部功能栏 -->
    <div class="bottom-row">
      <div class="small-btn" id="apiBtn">API设置</div>
      <div class="small-btn" id="memoryBtn">记忆</div>
      <div class="small-btn" id="extraBtn">待加</div>
    </div>

  </div>
</div>
<script>
/* ===== 读取与保存 ===== */
function save(key, value){
  localStorage.setItem(key, value);
}
function load(key){
  return localStorage.getItem(key) || "";
}

/* ===== 壁纸 ===== */
const wall = document.getElementById("wall");
const savedWall = load("home_wallpaper");
if(savedWall) wall.style.backgroundImage = `url(${savedWall})`;

/* 点击壁纸切换 */
wall.addEventListener("click", ()=>{
  let url = prompt("输入壁纸 URL（留空恢复默认）");
  if(url === null) return;
  save("home_wallpaper", url);
  wall.style.backgroundImage = url ? `url(${url})` : "";
});

/* ===== 顶部大图 ===== */

const bigImageBox = document.getElementById("bigImageBox");
const bigImageText = document.getElementById("bigImageText");
let savedBigImg = load("home_bigimg");

if(savedBigImg){
  let img = document.createElement("img");
  img.src = savedBigImg;
  bigImageBox.innerHTML = "";
  bigImageBox.appendChild(img);
}

/* 点击自定义大图 */
bigImageBox.addEventListener("click", ()=>{

  let type = prompt("输入 1=链接图片，2=上传本地图片","1");

  if(type === "1"){
    let url = prompt("输入图片 URL：");
    if(!url) return;
    save("home_bigimg", url);

    let img = document.createElement("img");
    img.src = url;
    bigImageBox.innerHTML = "";
    bigImageBox.appendChild(img);
  }

  if(type === "2"){
    let input = document.createElement("input");
    input.type = "file";
    input.accept = "image/*";
    input.onchange = ()=>{
      let file = input.files[0];
      let reader = new FileReader();
      reader.onload = (e)=>{
        save("home_bigimg", e.target.result);

        let img = document.createElement("img");
        img.src = e.target.result;
        bigImageBox.innerHTML = "";
        bigImageBox.appendChild(img);
      };
      reader.readAsDataURL(file);
    };
    input.click();
  }
});
 /* ===== 按钮跳转 ===== */

document.getElementById("chatBtn").onclick = ()=>location.href="chat.html";
document.getElementById("roleBtn").onclick = ()=>location.href="role.html";
document.getElementById("apiBtn").onclick  = ()=>location.href="api.html";
document.getElementById("memoryBtn").onclick  = ()=>location.href="memory.html";
document.getElementById("extraBtn").onclick  = ()=>alert("你可以在这里加别的功能页面");

/* 结束 */
</script>
</body>
</html> 
